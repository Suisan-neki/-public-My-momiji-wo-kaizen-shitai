# デザイン面の問題点

## 概要
広島大学もみじサイトのデザイン・UI/UXに関する問題点をまとめました。

## 1. レガシーHTML構造（重大度: 高）

### 問題
XHTML 1.0 Transitionalを使用しており、現代のWeb標準から大きく遅れています。

### 該当箇所
- 行1: `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"...>`
- 行3: `xmlns="http://www.w3.org/1999/xhtml"`

### 影響
- モダンブラウザの最適化が受けられない
- HTML5の新機能が使用できない
- セマンティックHTMLの活用ができない

### 推奨対応
HTML5のDOCTYPEに変更する。

```html
<!DOCTYPE html>
<html lang="ja">
```

---

## 2. セマンティックHTMLの不足（重大度: 中）

### 問題
`<div>`と`<span>`の多用により、ページ構造が不明確です。

### 該当箇所
- ヘッダー: `<div id="header">` → `<header>`に変更すべき
- ナビゲーション: `<div id="navigation">` → `<nav>`に変更すべき
- メインコンテンツ: `<div id="content">` → `<main>`に変更すべき
- フッター: フッター要素が存在しない

### 影響
- スクリーンリーダーの理解が困難
- SEO評価の低下
- コードの可読性低下

### 推奨対応
適切なセマンティックHTML要素（`<header>`, `<nav>`, `<main>`, `<section>`, `<article>`, `<aside>`, `<footer>`）を使用する。

---

## 3. インラインスタイルの多用（重大度: 中）

### 問題
HTML内にインラインスタイルが多数使用されています。

### 該当例
```html
<div id="header-login-maintenance" class="floatLeft" style="padding-top:0.5em;font-size:15px;">
<a style="color: #EF454A;" target="_blank" rel="nofollow noopener" href="...">
```

### 影響
- CSSの再利用性が低い
- 保守性の低下
- スタイルの一貫性が保てない

### 推奨対応
すべてのインラインスタイルをCSSファイルに移行する。

---

## 4. 非推奨HTML属性の使用（重大度: 低）

### 問題
HTML5で非推奨となった属性が多数使用されています。

### 該当属性
- `border="0"`: 画像要素に使用（約19箇所）
- `width`, `height`: インライン属性として使用
- `align`: 一部で使用されている可能性

### 該当例
```html
<img src="./assets/images/sitelogo.gif" alt="..." width="238" height="44" border="0">
```

### 影響
- HTML5バリデーションエラー
- レスポンシブデザインの実装が困難
- 将来のブラウザサポート終了のリスク

### 推奨対応
すべての非推奨属性をCSSに移行する。

```html
<!-- 変更前 -->
<img src="..." width="238" height="44" border="0">

<!-- 変更後 -->
<img src="..." class="site-logo" alt="...">
```

```css
.site-logo {
  width: 238px;
  height: 44px;
  border: 0;
}
```

---

## 5. レスポンシブデザインの不備（重大度: 高）

### 問題
モバイル対応は一部実装されていますが、モダンなレスポンシブデザインのベストプラクティスに従っていません。

### 問題点
- 固定幅の使用（`width="238"`など）
- メディアクエリの不十分な活用
- モバイルファーストアプローチではない
- タッチターゲットサイズの考慮不足

### 該当箇所
- 行220: ロゴ画像の固定幅
- 行650: タイトル画像の固定幅（`width="672"`）
- 多数の画像要素に固定サイズ指定

### 影響
- モバイルデバイスでの表示が最適化されていない
- タブレットでの表示が不適切
- ユーザビリティの低下

### 推奨対応
- CSS Grid/Flexboxを使用した柔軟なレイアウト
- 画像の`max-width: 100%`設定
- モバイルファーストのメディアクエリ
- タッチターゲットの最小サイズ（44x44px）の確保

---

## 6. アクセシビリティの問題（重大度: 高）

### 問題1: ARIA属性の不足
- ナビゲーションメニューに`aria-label`がない
- モーダルやドロップダウンメニューに適切なARIA属性がない
- フォーム要素に`aria-describedby`がない

### 問題2: キーボードナビゲーション
- ドロップダウンメニューがキーボードで操作できない可能性
- フォーカス管理が不十分
- スキップリンクがない

### 問題3: コントラスト比
- 一部のテキストでコントラスト比がWCAG 2.1 AA基準（4.5:1）を満たしていない可能性

### 問題4: alt属性の品質
- alt属性は存在するが、より説明的な内容に改善の余地がある

### 影響
- スクリーンリーダーユーザーの利用が困難
- キーボードユーザーの操作が困難
- 視覚障害者への配慮不足

### 推奨対応
- ARIA属性の適切な追加
- キーボードナビゲーションの実装
- コントラスト比の確認と改善
- alt属性の最適化

---

## 7. 古いデザインパターン（重大度: 低）

### 問題
- テーブルレイアウトの使用（一部）
- フロートレイアウトの多用
- クリアフィックスの使用

### 影響
- モダンなレイアウト手法が使用されていない
- レスポンシブ対応が困難
- コードの複雑化

### 推奨対応
- CSS Grid/Flexboxへの移行
- フロートレイアウトの廃止

---

## 8. 画像の最適化不足（重大度: 中）

### 問題
- GIF形式の画像が多数使用されている（PNG/WebPに変換可能）
- 画像の遅延読み込み（lazy loading）が実装されていない
- 画像のサイズ最適化が不十分

### 該当ファイル
- `sitelogo.gif`
- `english.gif`
- `search.gif`
- `icon_link.gif`
- その他多数のGIF画像

### 影響
- ページ読み込み速度の低下
- モバイルデータ使用量の増加
- ユーザー体験の悪化

### 推奨対応
- WebP形式への変換
- `loading="lazy"`属性の追加
- 適切な画像サイズの使用
- レスポンシブ画像（`srcset`）の実装

---

## 9. CSSの構造的問題（重大度: 中）

### 問題
- `@import`の使用による読み込みパフォーマンスの低下
- CSS変数の未使用
- カラーパレットの統一性不足
- メディアクエリの不適切な配置

### 該当箇所
`assets/css/styles.css`:
```css
@import url(cmn_css/base.css);
@import url(cmn_css/navi.css);
@import url(cmn_css/detail.css);
@import url(cmn_css/wysiwyg.css);
@import url("cmn_css/sp.css");
```

### 影響
- CSS読み込みの遅延
- スタイルの一貫性が保てない
- テーマ変更が困難

### 推奨対応
- `@import`を`<link>`タグに置き換え
- CSS変数の導入
- デザインシステムの構築

---

## 10. フォントの扱い（重大度: 低）

### 問題
- ユーザーエージェントによる条件分岐でフォントを読み込んでいる
- `font_mac.css`と`font_win.css`の分離

### 該当箇所
`assets/js/common.js` 行1-9

### 影響
- コードの複雑化
- メンテナンス性の低下
- モダンなフォント読み込み手法が使用されていない

### 推奨対応
- `@font-face`を使用した統一的なフォント読み込み
- システムフォントスタックの活用

---

## 11. アニメーション・トランジションの不足（重大度: 低）

### 問題
- モダンなCSSアニメーションが使用されていない
- ページ遷移時のトランジションがない
- インタラクティブ要素のフィードバックが不十分

### 影響
- ユーザー体験の向上機会の損失
- モダンなWebサイトとの差

### 推奨対応
- CSSトランジションの追加
- マイクロインタラクションの実装
- アクセシビリティを考慮したアニメーション（`prefers-reduced-motion`）

---

## 12. カラーパレットの統一性（重大度: 低）

### 問題
- インラインスタイルで色が指定されている
- カラーパレットが統一されていない
- ダークモード対応がない

### 影響
- デザインの一貫性が保てない
- テーマ変更が困難
- アクセシビリティの考慮不足

### 推奨対応
- CSS変数によるカラーパレットの定義
- ダークモード対応（`prefers-color-scheme`）

---

## まとめ

### 優先度別対応
1. **緊急**: HTML5への移行、レスポンシブデザインの改善、アクセシビリティの向上
2. **高**: セマンティックHTMLの導入、インラインスタイルの削除
3. **中**: 画像の最適化、CSS構造の改善
4. **低**: デザインパターンのモダン化、アニメーションの追加

### 推奨される改善アプローチ
1. モバイルファーストデザインの採用
2. デザインシステムの構築
3. プログレッシブエンハンスメントの実装
4. アクセシビリティファーストの設計

